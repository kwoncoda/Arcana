---
id: TASK-030.1
type: task
title: "대시보드 AI 채팅 로딩 유지 및 응답 복원"
status: done
owner: frontend
updated: 2025-02-12
relates_to: ["US-006.2"]
---

## 요청 사항
- 대시보드의 AI 질문 전송 시 화면을 이탈하더라도 로딩 상태가 사라지지 않고 유지된다.
- 백엔드가 응답을 완료하면 다른 화면에 머물렀다가 돌아와도 대시보드 채팅 기록에 답변이 나타난다.

## 작업 진행
- 채팅 메시지와 로딩/대기 질의를 `localStorage`에 저장하고, 저장 시 전역 이벤트를 발행해 새로 마운트된 대시보드에서도 즉시 복원되도록 구현.
- 대시보드 진입 시 저장된 채팅 상태를 불러오고, 저장소 변경 이벤트를 구독해 다른 화면에 있을 때 완료된 응답도 반영.
- 로딩 중 질문 문구를 노출해 대기 중인 요청을 사용자가 확인할 수 있도록 UI 보완.

## 결과/검증
- 질문 전송 후 다른 페이지로 이동했다가 돌아오면 로딩 표시와 보낸 메시지가 그대로 유지되고, 백엔드 응답 도착 시 자동으로 표시됨을 수동 확인.
- 오류/취소/인증 만료 시에도 저장된 상태를 정리하여 대시보드 재방문 시 스피너가 남지 않도록 처리.
