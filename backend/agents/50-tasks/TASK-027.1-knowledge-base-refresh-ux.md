---
id: TASK-027.1
type: task
title: "지식 베이스 갱신 UX 개선 (전면 오버레이 + 자동 호출)"
status: in_progress
owner: frontend
updated: 2025-02-11
relates_to: ["US-005.1"]
---

## 요청 사항
- "지식 베이스 갱신" 버튼을 누르면 전 화면을 덮는 로딩 오버레이를 띄워 다른 클릭을 막는다.
- 외부 도구 OAuth 인증을 마치고 대시보드로 리다이렉션된 직후, 지식 베이스 갱신 API를 자동 호출해 최신 상태를 보장한다.
- 자동 호출/수동 호출 모두 진행 중에는 중복 요청을 방지하고 안내 메시지를 노출한다.

## 작업 진행
- MainDashboard에 전체 화면 로딩 오버레이(스피너 + 상태 텍스트)를 추가해 동기화 중 사용자 입력을 차단.
- OAuth 콜백(Notion/Google)에서 대시보드로 이동할 때 `triggerKnowledgeRefresh` 플래그를 state로 전달해 자동 동기화 트리거를 연결.
- 대시보드에서는 연동 완료 표시와 함께 자동으로 지식 베이스 갱신 루틴을 실행하도록 `shouldAutoRefresh` 상태와 이펙트를 추가.

## 남은 확인 사항
- 오버레이/자동 호출 플로우가 모바일 브라우저에서도 잘 표시되는지 크로스 브라우징 확인 필요.
- 지식 베이스 갱신 API 실패 시 재시도 UX(버튼 복귀, 메시지 지속 시간) 보완 여부 결정.
